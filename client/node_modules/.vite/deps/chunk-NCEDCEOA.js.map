{
  "version": 3,
  "sources": ["../../../../node_modules/.bun/@better-auth+core@1.4.10+31577a3aac4f763a/node_modules/@better-auth/core/dist/get-tables-CMc_Emww.mjs", "../../../../node_modules/.bun/@better-auth+core@1.4.10+31577a3aac4f763a/node_modules/@better-auth/core/dist/db/adapter/index.mjs"],
  "sourcesContent": ["//#region src/db/get-tables.ts\nconst getAuthTables = (options) => {\n\tconst pluginSchema = (options.plugins ?? []).reduce((acc, plugin) => {\n\t\tconst schema = plugin.schema;\n\t\tif (!schema) return acc;\n\t\tfor (const [key, value] of Object.entries(schema)) acc[key] = {\n\t\t\tfields: {\n\t\t\t\t...acc[key]?.fields,\n\t\t\t\t...value.fields\n\t\t\t},\n\t\t\tmodelName: value.modelName || key\n\t\t};\n\t\treturn acc;\n\t}, {});\n\tconst shouldAddRateLimitTable = options.rateLimit?.storage === \"database\";\n\tconst rateLimitTable = { rateLimit: {\n\t\tmodelName: options.rateLimit?.modelName || \"rateLimit\",\n\t\tfields: {\n\t\t\tkey: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tfieldName: options.rateLimit?.fields?.key || \"key\"\n\t\t\t},\n\t\t\tcount: {\n\t\t\t\ttype: \"number\",\n\t\t\t\tfieldName: options.rateLimit?.fields?.count || \"count\"\n\t\t\t},\n\t\t\tlastRequest: {\n\t\t\t\ttype: \"number\",\n\t\t\t\tbigint: true,\n\t\t\t\tfieldName: options.rateLimit?.fields?.lastRequest || \"lastRequest\"\n\t\t\t}\n\t\t}\n\t} };\n\tconst { user, session, account, verification, ...pluginTables } = pluginSchema;\n\tconst sessionTable = { session: {\n\t\tmodelName: options.session?.modelName || \"session\",\n\t\tfields: {\n\t\t\texpiresAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.expiresAt || \"expiresAt\"\n\t\t\t},\n\t\t\ttoken: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.token || \"token\",\n\t\t\t\tunique: true\n\t\t\t},\n\t\t\tcreatedAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.createdAt || \"createdAt\",\n\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date()\n\t\t\t},\n\t\t\tupdatedAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.updatedAt || \"updatedAt\",\n\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date()\n\t\t\t},\n\t\t\tipAddress: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: false,\n\t\t\t\tfieldName: options.session?.fields?.ipAddress || \"ipAddress\"\n\t\t\t},\n\t\t\tuserAgent: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: false,\n\t\t\t\tfieldName: options.session?.fields?.userAgent || \"userAgent\"\n\t\t\t},\n\t\t\tuserId: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tfieldName: options.session?.fields?.userId || \"userId\",\n\t\t\t\treferences: {\n\t\t\t\t\tmodel: options.user?.modelName || \"user\",\n\t\t\t\t\tfield: \"id\",\n\t\t\t\t\tonDelete: \"cascade\"\n\t\t\t\t},\n\t\t\t\trequired: true,\n\t\t\t\tindex: true\n\t\t\t},\n\t\t\t...session?.fields,\n\t\t\t...options.session?.additionalFields\n\t\t},\n\t\torder: 2\n\t} };\n\treturn {\n\t\tuser: {\n\t\t\tmodelName: options.user?.modelName || \"user\",\n\t\t\tfields: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.name || \"name\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\temail: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tunique: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.email || \"email\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\temailVerified: {\n\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.emailVerified || \"emailVerified\",\n\t\t\t\t\tinput: false\n\t\t\t\t},\n\t\t\t\timage: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.user?.fields?.image || \"image\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.createdAt || \"createdAt\"\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.updatedAt || \"updatedAt\"\n\t\t\t\t},\n\t\t\t\t...user?.fields,\n\t\t\t\t...options.user?.additionalFields\n\t\t\t},\n\t\t\torder: 1\n\t\t},\n\t\t...!options.secondaryStorage || options.session?.storeSessionInDatabase ? sessionTable : {},\n\t\taccount: {\n\t\t\tmodelName: options.account?.modelName || \"account\",\n\t\t\tfields: {\n\t\t\t\taccountId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.accountId || \"accountId\"\n\t\t\t\t},\n\t\t\t\tproviderId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.providerId || \"providerId\"\n\t\t\t\t},\n\t\t\t\tuserId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\treferences: {\n\t\t\t\t\t\tmodel: options.user?.modelName || \"user\",\n\t\t\t\t\t\tfield: \"id\",\n\t\t\t\t\t\tonDelete: \"cascade\"\n\t\t\t\t\t},\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.userId || \"userId\",\n\t\t\t\t\tindex: true\n\t\t\t\t},\n\t\t\t\taccessToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.accessToken || \"accessToken\"\n\t\t\t\t},\n\t\t\t\trefreshToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.refreshToken || \"refreshToken\"\n\t\t\t\t},\n\t\t\t\tidToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.idToken || \"idToken\"\n\t\t\t\t},\n\t\t\t\taccessTokenExpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.accessTokenExpiresAt || \"accessTokenExpiresAt\"\n\t\t\t\t},\n\t\t\t\trefreshTokenExpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.refreshTokenExpiresAt || \"refreshTokenExpiresAt\"\n\t\t\t\t},\n\t\t\t\tscope: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.scope || \"scope\"\n\t\t\t\t},\n\t\t\t\tpassword: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.password || \"password\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.createdAt || \"createdAt\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date()\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.updatedAt || \"updatedAt\",\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date()\n\t\t\t\t},\n\t\t\t\t...account?.fields,\n\t\t\t\t...options.account?.additionalFields\n\t\t\t},\n\t\t\torder: 3\n\t\t},\n\t\tverification: {\n\t\t\tmodelName: options.verification?.modelName || \"verification\",\n\t\t\tfields: {\n\t\t\t\tidentifier: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.identifier || \"identifier\",\n\t\t\t\t\tindex: true\n\t\t\t\t},\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.value || \"value\"\n\t\t\t\t},\n\t\t\t\texpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.expiresAt || \"expiresAt\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tfieldName: options.verification?.fields?.createdAt || \"createdAt\"\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tfieldName: options.verification?.fields?.updatedAt || \"updatedAt\"\n\t\t\t\t},\n\t\t\t\t...verification?.fields,\n\t\t\t\t...options.verification?.additionalFields\n\t\t\t},\n\t\t\torder: 4\n\t\t},\n\t\t...pluginTables,\n\t\t...shouldAddRateLimitTable ? rateLimitTable : {}\n\t};\n};\n\n//#endregion\nexport { getAuthTables as t };", "import { t as getAuthTables } from \"../../get-tables-CMc_Emww.mjs\";\nimport { i as logger, n as createLogger, o as getColorDepth, t as TTY_COLORS } from \"../../env-DbssmzoK.mjs\";\nimport { n as safeJSONParse, r as generateId } from \"../../utils-NloIXYE0.mjs\";\nimport { t as BetterAuthError } from \"../../error-RtKwr3Pu.mjs\";\n\n//#region src/db/adapter/get-default-model-name.ts\nconst initGetDefaultModelName = ({ usePlural, schema }) => {\n\t/**\n\t* This function helps us get the default model name from the schema defined by devs.\n\t* Often times, the user will be using the `modelName` which could had been customized by the users.\n\t* This function helps us get the actual model name useful to match against the schema. (eg: schema[model])\n\t*\n\t* If it's still unclear what this does:\n\t*\n\t* 1. User can define a custom modelName.\n\t* 2. When using a custom modelName, doing something like `schema[model]` will not work.\n\t* 3. Using this function helps us get the actual model name based on the user's defined custom modelName.\n\t*/\n\tconst getDefaultModelName = (model) => {\n\t\tif (usePlural && model.charAt(model.length - 1) === \"s\") {\n\t\t\tlet pluralessModel = model.slice(0, -1);\n\t\t\tlet m$1 = schema[pluralessModel] ? pluralessModel : void 0;\n\t\t\tif (!m$1) m$1 = Object.entries(schema).find(([_, f]) => f.modelName === pluralessModel)?.[0];\n\t\t\tif (m$1) return m$1;\n\t\t}\n\t\tlet m = schema[model] ? model : void 0;\n\t\tif (!m) m = Object.entries(schema).find(([_, f]) => f.modelName === model)?.[0];\n\t\tif (!m) throw new BetterAuthError(`Model \"${model}\" not found in schema`);\n\t\treturn m;\n\t};\n\treturn getDefaultModelName;\n};\n\n//#endregion\n//#region src/db/adapter/get-default-field-name.ts\nconst initGetDefaultFieldName = ({ schema, usePlural }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* This function helps us get the default field name from the schema defined by devs.\n\t* Often times, the user will be using the `fieldName` which could had been customized by the users.\n\t* This function helps us get the actual field name useful to match against the schema. (eg: schema[model].fields[field])\n\t*\n\t* If it's still unclear what this does:\n\t*\n\t* 1. User can define a custom fieldName.\n\t* 2. When using a custom fieldName, doing something like `schema[model].fields[field]` will not work.\n\t*/\n\tconst getDefaultFieldName = ({ field, model: unsafeModel }) => {\n\t\tif (field === \"id\" || field === \"_id\") return \"id\";\n\t\tconst model = getDefaultModelName(unsafeModel);\n\t\tlet f = schema[model]?.fields[field];\n\t\tif (!f) {\n\t\t\tconst result = Object.entries(schema[model].fields).find(([_, f$1]) => f$1.fieldName === field);\n\t\t\tif (result) {\n\t\t\t\tf = result[1];\n\t\t\t\tfield = result[0];\n\t\t\t}\n\t\t}\n\t\tif (!f) throw new BetterAuthError(`Field ${field} not found in model ${model}`);\n\t\treturn field;\n\t};\n\treturn getDefaultFieldName;\n};\n\n//#endregion\n//#region src/db/adapter/get-id-field.ts\nconst initGetIdField = ({ usePlural, schema, disableIdGeneration, options, customIdGenerator, supportsUUIDs }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst idField = ({ customModelName, forceAllowId }) => {\n\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\tconst useUUIDs = options.advanced?.database?.generateId === \"uuid\";\n\t\tlet shouldGenerateId = (() => {\n\t\t\tif (disableIdGeneration) return false;\n\t\t\telse if (useNumberId && !forceAllowId) return false;\n\t\t\telse if (useUUIDs) return !supportsUUIDs;\n\t\t\telse return true;\n\t\t})();\n\t\tconst model = getDefaultModelName(customModelName ?? \"id\");\n\t\treturn {\n\t\t\ttype: useNumberId ? \"number\" : \"string\",\n\t\t\trequired: shouldGenerateId ? true : false,\n\t\t\t...shouldGenerateId ? { defaultValue() {\n\t\t\t\tif (disableIdGeneration) return void 0;\n\t\t\t\tlet generateId$1 = options.advanced?.database?.generateId;\n\t\t\t\tif (generateId$1 === false || useNumberId) return void 0;\n\t\t\t\tif (typeof generateId$1 === \"function\") return generateId$1({ model });\n\t\t\t\tif (customIdGenerator) return customIdGenerator({ model });\n\t\t\t\tif (generateId$1 === \"uuid\") return crypto.randomUUID();\n\t\t\t\treturn generateId();\n\t\t\t} } : {},\n\t\t\ttransform: {\n\t\t\t\tinput: (value) => {\n\t\t\t\t\tif (!value) return void 0;\n\t\t\t\t\tif (useNumberId) {\n\t\t\t\t\t\tconst numberValue = Number(value);\n\t\t\t\t\t\tif (isNaN(numberValue)) return;\n\t\t\t\t\t\treturn numberValue;\n\t\t\t\t\t}\n\t\t\t\t\tif (useUUIDs) {\n\t\t\t\t\t\tif (shouldGenerateId && !forceAllowId) return value;\n\t\t\t\t\t\tif (disableIdGeneration) return void 0;\n\t\t\t\t\t\tif (supportsUUIDs) return void 0;\n\t\t\t\t\t\tif (forceAllowId && typeof value === \"string\") if (/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(value)) return value;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst stack = (/* @__PURE__ */ new Error()).stack?.split(\"\\n\").filter((_, i) => i !== 1).join(\"\\n\").replace(\"Error:\", \"\");\n\t\t\t\t\t\t\tlogger.warn(\"[Adapter Factory] - Invalid UUID value for field `id` provided when `forceAllowId` is true. Generating a new UUID.\", stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof value !== \"string\" && !supportsUUIDs) return crypto.randomUUID();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\toutput: (value) => {\n\t\t\t\t\tif (!value) return void 0;\n\t\t\t\t\treturn String(value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\treturn idField;\n};\n\n//#endregion\n//#region src/db/adapter/get-field-attributes.ts\nconst initGetFieldAttributes = ({ usePlural, schema, options, customIdGenerator, disableIdGeneration }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst idField = initGetIdField({\n\t\tusePlural,\n\t\tschema,\n\t\toptions,\n\t\tcustomIdGenerator,\n\t\tdisableIdGeneration\n\t});\n\tconst getFieldAttributes = ({ model, field }) => {\n\t\tconst defaultModelName = getDefaultModelName(model);\n\t\tconst defaultFieldName = getDefaultFieldName({\n\t\t\tfield,\n\t\t\tmodel: defaultModelName\n\t\t});\n\t\tconst fields = schema[defaultModelName].fields;\n\t\tfields.id = idField({ customModelName: defaultModelName });\n\t\tconst fieldAttributes = fields[defaultFieldName];\n\t\tif (!fieldAttributes) throw new BetterAuthError(`Field ${field} not found in model ${model}`);\n\t\treturn fieldAttributes;\n\t};\n\treturn getFieldAttributes;\n};\n\n//#endregion\n//#region src/db/adapter/get-field-name.ts\nconst initGetFieldName = ({ schema, usePlural }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* Get the field name which is expected to be saved in the database based on the user's schema.\n\t*\n\t* This function is useful if you need to save the field name to the database.\n\t*\n\t* For example, if the user has defined a custom field name for the `user` model, then you can use this function to get the actual field name from the schema.\n\t*/\n\tfunction getFieldName({ model: modelName, field: fieldName }) {\n\t\tconst model = getDefaultModelName(modelName);\n\t\tconst field = getDefaultFieldName({\n\t\t\tmodel,\n\t\t\tfield: fieldName\n\t\t});\n\t\treturn schema[model]?.fields[field]?.fieldName || field;\n\t}\n\treturn getFieldName;\n};\n\n//#endregion\n//#region src/db/adapter/get-model-name.ts\nconst initGetModelName = ({ usePlural, schema }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* Users can overwrite the default model of some tables. This function helps find the correct model name.\n\t* Furthermore, if the user passes `usePlural` as true in their adapter config,\n\t* then we should return the model name ending with an `s`.\n\t*/\n\tconst getModelName = (model) => {\n\t\tconst defaultModelKey = getDefaultModelName(model);\n\t\tif (schema && schema[defaultModelKey] && schema[defaultModelKey].modelName !== model) return usePlural ? `${schema[defaultModelKey].modelName}s` : schema[defaultModelKey].modelName;\n\t\treturn usePlural ? `${model}s` : model;\n\t};\n\treturn getModelName;\n};\n\n//#endregion\n//#region src/db/adapter/utils.ts\nfunction withApplyDefault(value, field, action) {\n\tif (action === \"update\") {\n\t\tif (value === void 0 && field.onUpdate !== void 0) {\n\t\t\tif (typeof field.onUpdate === \"function\") return field.onUpdate();\n\t\t\treturn field.onUpdate;\n\t\t}\n\t\treturn value;\n\t}\n\tif (action === \"create\") {\n\t\tif (value === void 0 || field.required === true && value === null) {\n\t\t\tif (field.defaultValue !== void 0) {\n\t\t\t\tif (typeof field.defaultValue === \"function\") return field.defaultValue();\n\t\t\t\treturn field.defaultValue;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n}\nfunction isObject(item) {\n\treturn item !== null && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction deepmerge(target, source) {\n\tif (Array.isArray(target) && Array.isArray(source)) return [...target, ...source];\n\telse if (isObject(target) && isObject(source)) {\n\t\tconst result = { ...target };\n\t\tfor (const [key, value] of Object.entries(source)) {\n\t\t\tif (value === void 0) continue;\n\t\t\tif (key in target) result[key] = deepmerge(target[key], value);\n\t\t\telse result[key] = value;\n\t\t}\n\t\treturn result;\n\t}\n\treturn source;\n}\n\n//#endregion\n//#region src/db/adapter/factory.ts\nlet debugLogs = [];\nlet transactionId = -1;\nconst createAsIsTransaction = (adapter) => (fn) => fn(adapter);\nconst createAdapterFactory = ({ adapter: customAdapter, config: cfg }) => (options) => {\n\tconst uniqueAdapterFactoryInstanceId = Math.random().toString(36).substring(2, 15);\n\tconst config = {\n\t\t...cfg,\n\t\tsupportsBooleans: cfg.supportsBooleans ?? true,\n\t\tsupportsDates: cfg.supportsDates ?? true,\n\t\tsupportsJSON: cfg.supportsJSON ?? false,\n\t\tadapterName: cfg.adapterName ?? cfg.adapterId,\n\t\tsupportsNumericIds: cfg.supportsNumericIds ?? true,\n\t\tsupportsUUIDs: cfg.supportsUUIDs ?? false,\n\t\tsupportsArrays: cfg.supportsArrays ?? false,\n\t\ttransaction: cfg.transaction ?? false,\n\t\tdisableTransformInput: cfg.disableTransformInput ?? false,\n\t\tdisableTransformOutput: cfg.disableTransformOutput ?? false,\n\t\tdisableTransformJoin: cfg.disableTransformJoin ?? false\n\t};\n\tif ((options.advanced?.database?.useNumberId === true || options.advanced?.database?.generateId === \"serial\") && config.supportsNumericIds === false) throw new BetterAuthError(`[${config.adapterName}] Your database or database adapter does not support numeric ids. Please disable \"useNumberId\" in your config.`);\n\tconst schema = getAuthTables(options);\n\tconst debugLog = (...args) => {\n\t\tif (config.debugLogs === true || typeof config.debugLogs === \"object\") {\n\t\t\tconst logger$2 = createLogger({ level: \"info\" });\n\t\t\tif (typeof config.debugLogs === \"object\" && \"isRunningAdapterTests\" in config.debugLogs) {\n\t\t\t\tif (config.debugLogs.isRunningAdapterTests) {\n\t\t\t\t\targs.shift();\n\t\t\t\t\tdebugLogs.push({\n\t\t\t\t\t\tinstance: uniqueAdapterFactoryInstanceId,\n\t\t\t\t\t\targs\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof config.debugLogs === \"object\" && config.debugLogs.logCondition && !config.debugLogs.logCondition?.()) return;\n\t\t\tif (typeof args[0] === \"object\" && \"method\" in args[0]) {\n\t\t\t\tconst method = args.shift().method;\n\t\t\t\tif (typeof config.debugLogs === \"object\") {\n\t\t\t\t\tif (method === \"create\" && !config.debugLogs.create) return;\n\t\t\t\t\telse if (method === \"update\" && !config.debugLogs.update) return;\n\t\t\t\t\telse if (method === \"updateMany\" && !config.debugLogs.updateMany) return;\n\t\t\t\t\telse if (method === \"findOne\" && !config.debugLogs.findOne) return;\n\t\t\t\t\telse if (method === \"findMany\" && !config.debugLogs.findMany) return;\n\t\t\t\t\telse if (method === \"delete\" && !config.debugLogs.delete) return;\n\t\t\t\t\telse if (method === \"deleteMany\" && !config.debugLogs.deleteMany) return;\n\t\t\t\t\telse if (method === \"count\" && !config.debugLogs.count) return;\n\t\t\t\t}\n\t\t\t\tlogger$2.info(`[${config.adapterName}]`, ...args);\n\t\t\t} else logger$2.info(`[${config.adapterName}]`, ...args);\n\t\t}\n\t};\n\tconst logger$1 = createLogger(options.logger);\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getModelName = initGetModelName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getFieldName = initGetFieldName({\n\t\tschema,\n\t\tusePlural: config.usePlural\n\t});\n\tconst idField = initGetIdField({\n\t\tschema,\n\t\toptions,\n\t\tusePlural: config.usePlural,\n\t\tdisableIdGeneration: config.disableIdGeneration,\n\t\tcustomIdGenerator: config.customIdGenerator,\n\t\tsupportsUUIDs: config.supportsUUIDs\n\t});\n\tconst getFieldAttributes = initGetFieldAttributes({\n\t\tschema,\n\t\toptions,\n\t\tusePlural: config.usePlural,\n\t\tdisableIdGeneration: config.disableIdGeneration,\n\t\tcustomIdGenerator: config.customIdGenerator\n\t});\n\tconst transformInput = async (data, defaultModelName, action, forceAllowId) => {\n\t\tconst transformedData = {};\n\t\tconst fields = schema[defaultModelName].fields;\n\t\tconst newMappedKeys = config.mapKeysTransformInput ?? {};\n\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\tfields.id = idField({\n\t\t\tcustomModelName: defaultModelName,\n\t\t\tforceAllowId: forceAllowId && \"id\" in data\n\t\t});\n\t\tfor (const field in fields) {\n\t\t\tlet value = data[field];\n\t\t\tconst fieldAttributes = fields[field];\n\t\t\tlet newFieldName = newMappedKeys[field] || fields[field].fieldName || field;\n\t\t\tif (value === void 0 && (fieldAttributes.defaultValue === void 0 && !fieldAttributes.transform?.input && !(action === \"update\" && fieldAttributes.onUpdate) || action === \"update\" && !fieldAttributes.onUpdate)) continue;\n\t\t\tif (fieldAttributes && fieldAttributes.type === \"date\" && !(value instanceof Date) && typeof value === \"string\") try {\n\t\t\t\tvalue = new Date(value);\n\t\t\t} catch {\n\t\t\t\tlogger$1.error(\"[Adapter Factory] Failed to convert string to date\", {\n\t\t\t\t\tvalue,\n\t\t\t\t\tfield\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet newValue = withApplyDefault(value, fieldAttributes, action);\n\t\t\tif (fieldAttributes.transform?.input) newValue = await fieldAttributes.transform.input(newValue);\n\t\t\tif (fieldAttributes.references?.field === \"id\" && useNumberId) if (Array.isArray(newValue)) newValue = newValue.map((x) => x !== null ? Number(x) : null);\n\t\t\telse newValue = newValue !== null ? Number(newValue) : null;\n\t\t\telse if (config.supportsJSON === false && typeof newValue === \"object\" && fieldAttributes.type === \"json\") newValue = JSON.stringify(newValue);\n\t\t\telse if (config.supportsArrays === false && Array.isArray(newValue) && (fieldAttributes.type === \"string[]\" || fieldAttributes.type === \"number[]\")) newValue = JSON.stringify(newValue);\n\t\t\telse if (config.supportsDates === false && newValue instanceof Date && fieldAttributes.type === \"date\") newValue = newValue.toISOString();\n\t\t\telse if (config.supportsBooleans === false && typeof newValue === \"boolean\") newValue = newValue ? 1 : 0;\n\t\t\tif (config.customTransformInput) newValue = config.customTransformInput({\n\t\t\t\tdata: newValue,\n\t\t\t\taction,\n\t\t\t\tfield: newFieldName,\n\t\t\t\tfieldAttributes,\n\t\t\t\tmodel: getModelName(defaultModelName),\n\t\t\t\tschema,\n\t\t\t\toptions\n\t\t\t});\n\t\t\tif (newValue !== void 0) transformedData[newFieldName] = newValue;\n\t\t}\n\t\treturn transformedData;\n\t};\n\tconst transformOutput = async (data, unsafe_model, select = [], join) => {\n\t\tconst transformSingleOutput = async (data$1, unsafe_model$1, select$1 = []) => {\n\t\t\tif (!data$1) return null;\n\t\t\tconst newMappedKeys = config.mapKeysTransformOutput ?? {};\n\t\t\tconst transformedData$1 = {};\n\t\t\tconst tableSchema = schema[getDefaultModelName(unsafe_model$1)].fields;\n\t\t\tconst idKey = Object.entries(newMappedKeys).find(([_, v]) => v === \"id\")?.[0];\n\t\t\ttableSchema[idKey ?? \"id\"] = { type: options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\" ? \"number\" : \"string\" };\n\t\t\tfor (const key in tableSchema) {\n\t\t\t\tif (select$1.length && !select$1.includes(key)) continue;\n\t\t\t\tconst field = tableSchema[key];\n\t\t\t\tif (field) {\n\t\t\t\t\tconst originalKey = field.fieldName || key;\n\t\t\t\t\tlet newValue = data$1[Object.entries(newMappedKeys).find(([_, v]) => v === originalKey)?.[0] || originalKey];\n\t\t\t\t\tif (field.transform?.output) newValue = await field.transform.output(newValue);\n\t\t\t\t\tlet newFieldName = newMappedKeys[key] || key;\n\t\t\t\t\tif (originalKey === \"id\" || field.references?.field === \"id\") {\n\t\t\t\t\t\tif (typeof newValue !== \"undefined\" && newValue !== null) newValue = String(newValue);\n\t\t\t\t\t} else if (config.supportsJSON === false && typeof newValue === \"string\" && field.type === \"json\") newValue = safeJSONParse(newValue);\n\t\t\t\t\telse if (config.supportsArrays === false && typeof newValue === \"string\" && (field.type === \"string[]\" || field.type === \"number[]\")) newValue = safeJSONParse(newValue);\n\t\t\t\t\telse if (config.supportsDates === false && typeof newValue === \"string\" && field.type === \"date\") newValue = new Date(newValue);\n\t\t\t\t\telse if (config.supportsBooleans === false && typeof newValue === \"number\" && field.type === \"boolean\") newValue = newValue === 1;\n\t\t\t\t\tif (config.customTransformOutput) newValue = config.customTransformOutput({\n\t\t\t\t\t\tdata: newValue,\n\t\t\t\t\t\tfield: newFieldName,\n\t\t\t\t\t\tfieldAttributes: field,\n\t\t\t\t\t\tselect: select$1,\n\t\t\t\t\t\tmodel: getModelName(unsafe_model$1),\n\t\t\t\t\t\tschema,\n\t\t\t\t\t\toptions\n\t\t\t\t\t});\n\t\t\t\t\ttransformedData$1[newFieldName] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn transformedData$1;\n\t\t};\n\t\tif (!join || Object.keys(join).length === 0) return await transformSingleOutput(data, unsafe_model, select);\n\t\tunsafe_model = getDefaultModelName(unsafe_model);\n\t\tlet transformedData = await transformSingleOutput(data, unsafe_model, select);\n\t\tconst requiredModels = Object.entries(join).map(([model, joinConfig]) => ({\n\t\t\tmodelName: getModelName(model),\n\t\t\tdefaultModelName: getDefaultModelName(model),\n\t\t\tjoinConfig\n\t\t}));\n\t\tif (!data) return null;\n\t\tfor (const { modelName, defaultModelName, joinConfig } of requiredModels) {\n\t\t\tlet joinedData = await (async () => {\n\t\t\t\tif (options.experimental?.joins) return data[modelName];\n\t\t\t\telse return await handleFallbackJoin({\n\t\t\t\t\tbaseModel: unsafe_model,\n\t\t\t\t\tbaseData: transformedData,\n\t\t\t\t\tjoinModel: modelName,\n\t\t\t\t\tspecificJoinConfig: joinConfig\n\t\t\t\t});\n\t\t\t})();\n\t\t\tif (joinedData === void 0 || joinedData === null) joinedData = joinConfig.relation === \"one-to-one\" ? null : [];\n\t\t\tif (joinConfig.relation === \"one-to-many\" && !Array.isArray(joinedData)) joinedData = [joinedData];\n\t\t\tlet transformed = [];\n\t\t\tif (Array.isArray(joinedData)) for (const item of joinedData) {\n\t\t\t\tconst transformedItem = await transformSingleOutput(item, modelName, []);\n\t\t\t\ttransformed.push(transformedItem);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst transformedItem = await transformSingleOutput(joinedData, modelName, []);\n\t\t\t\ttransformed.push(transformedItem);\n\t\t\t}\n\t\t\ttransformedData[defaultModelName] = (joinConfig.relation === \"one-to-one\" ? transformed[0] : transformed) ?? null;\n\t\t}\n\t\treturn transformedData;\n\t};\n\tconst transformWhereClause = ({ model, where, action }) => {\n\t\tif (!where) return void 0;\n\t\tconst newMappedKeys = config.mapKeysTransformInput ?? {};\n\t\treturn where.map((w) => {\n\t\t\tconst { field: unsafe_field, value, operator = \"eq\", connector = \"AND\" } = w;\n\t\t\tif (operator === \"in\") {\n\t\t\t\tif (!Array.isArray(value)) throw new BetterAuthError(\"Value must be an array\");\n\t\t\t}\n\t\t\tlet newValue = value;\n\t\t\tconst defaultModelName = getDefaultModelName(model);\n\t\t\tconst defaultFieldName = getDefaultFieldName({\n\t\t\t\tfield: unsafe_field,\n\t\t\t\tmodel\n\t\t\t});\n\t\t\tconst fieldName = newMappedKeys[defaultFieldName] || getFieldName({\n\t\t\t\tfield: defaultFieldName,\n\t\t\t\tmodel: defaultModelName\n\t\t\t});\n\t\t\tconst fieldAttr = getFieldAttributes({\n\t\t\t\tfield: defaultFieldName,\n\t\t\t\tmodel: defaultModelName\n\t\t\t});\n\t\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\t\tif (defaultFieldName === \"id\" || fieldAttr.references?.field === \"id\") {\n\t\t\t\tif (useNumberId) if (Array.isArray(value)) newValue = value.map(Number);\n\t\t\t\telse newValue = Number(value);\n\t\t\t}\n\t\t\tif (fieldAttr.type === \"date\" && value instanceof Date && !config.supportsDates) newValue = value.toISOString();\n\t\t\tif (fieldAttr.type === \"boolean\" && typeof value === \"boolean\" && !config.supportsBooleans) newValue = value ? 1 : 0;\n\t\t\tif (fieldAttr.type === \"json\" && typeof value === \"object\" && !config.supportsJSON) try {\n\t\t\t\tnewValue = JSON.stringify(value);\n\t\t\t} catch (error) {\n\t\t\t\tthrow new Error(`Failed to stringify JSON value for field ${fieldName}`, { cause: error });\n\t\t\t}\n\t\t\tif (config.customTransformInput) newValue = config.customTransformInput({\n\t\t\t\tdata: newValue,\n\t\t\t\tfieldAttributes: fieldAttr,\n\t\t\t\tfield: fieldName,\n\t\t\t\tmodel: getModelName(model),\n\t\t\t\tschema,\n\t\t\t\toptions,\n\t\t\t\taction\n\t\t\t});\n\t\t\treturn {\n\t\t\t\toperator,\n\t\t\t\tconnector,\n\t\t\t\tfield: fieldName,\n\t\t\t\tvalue: newValue\n\t\t\t};\n\t\t});\n\t};\n\tconst transformJoinClause = (baseModel, unsanitizedJoin, select) => {\n\t\tif (!unsanitizedJoin) return void 0;\n\t\tif (Object.keys(unsanitizedJoin).length === 0) return void 0;\n\t\tconst transformedJoin = {};\n\t\tfor (const [model, join] of Object.entries(unsanitizedJoin)) {\n\t\t\tif (!join) continue;\n\t\t\tconst defaultModelName = getDefaultModelName(model);\n\t\t\tconst defaultBaseModelName = getDefaultModelName(baseModel);\n\t\t\tlet foreignKeys = Object.entries(schema[defaultModelName].fields).filter(([field, fieldAttributes]) => fieldAttributes.references && getDefaultModelName(fieldAttributes.references.model) === defaultBaseModelName);\n\t\t\tlet isForwardJoin = true;\n\t\t\tif (!foreignKeys.length) {\n\t\t\t\tforeignKeys = Object.entries(schema[defaultBaseModelName].fields).filter(([field, fieldAttributes]) => fieldAttributes.references && getDefaultModelName(fieldAttributes.references.model) === defaultModelName);\n\t\t\t\tisForwardJoin = false;\n\t\t\t}\n\t\t\tif (!foreignKeys.length) throw new BetterAuthError(`No foreign key found for model ${model} and base model ${baseModel} while performing join operation.`);\n\t\t\telse if (foreignKeys.length > 1) throw new BetterAuthError(`Multiple foreign keys found for model ${model} and base model ${baseModel} while performing join operation. Only one foreign key is supported.`);\n\t\t\tconst [foreignKey, foreignKeyAttributes] = foreignKeys[0];\n\t\t\tif (!foreignKeyAttributes.references) throw new BetterAuthError(`No references found for foreign key ${foreignKey} on model ${model} while performing join operation.`);\n\t\t\tlet from;\n\t\t\tlet to;\n\t\t\tlet requiredSelectField;\n\t\t\tif (isForwardJoin) {\n\t\t\t\trequiredSelectField = foreignKeyAttributes.references.field;\n\t\t\t\tfrom = getFieldName({\n\t\t\t\t\tmodel: baseModel,\n\t\t\t\t\tfield: requiredSelectField\n\t\t\t\t});\n\t\t\t\tto = getFieldName({\n\t\t\t\t\tmodel,\n\t\t\t\t\tfield: foreignKey\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trequiredSelectField = foreignKey;\n\t\t\t\tfrom = getFieldName({\n\t\t\t\t\tmodel: baseModel,\n\t\t\t\t\tfield: requiredSelectField\n\t\t\t\t});\n\t\t\t\tto = getFieldName({\n\t\t\t\t\tmodel,\n\t\t\t\t\tfield: foreignKeyAttributes.references.field\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (select && !select.includes(requiredSelectField)) select.push(requiredSelectField);\n\t\t\tconst isUnique = to === \"id\" ? true : foreignKeyAttributes.unique ?? false;\n\t\t\tlet limit = options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\tif (isUnique) limit = 1;\n\t\t\telse if (typeof join === \"object\" && typeof join.limit === \"number\") limit = join.limit;\n\t\t\ttransformedJoin[getModelName(model)] = {\n\t\t\t\ton: {\n\t\t\t\t\tfrom,\n\t\t\t\t\tto\n\t\t\t\t},\n\t\t\t\tlimit,\n\t\t\t\trelation: isUnique ? \"one-to-one\" : \"one-to-many\"\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tjoin: transformedJoin,\n\t\t\tselect\n\t\t};\n\t};\n\t/**\n\t* Handle joins by making separate queries and combining results (fallback for adapters that don't support native joins).\n\t*/\n\tconst handleFallbackJoin = async ({ baseModel, baseData, joinModel, specificJoinConfig: joinConfig }) => {\n\t\tif (!baseData) return baseData;\n\t\tconst modelName = getModelName(joinModel);\n\t\tconst field = joinConfig.on.to;\n\t\tconst value = baseData[getDefaultFieldName({\n\t\t\tfield: joinConfig.on.from,\n\t\t\tmodel: baseModel\n\t\t})];\n\t\tif (value === null || value === void 0) return joinConfig.relation === \"one-to-one\" ? null : [];\n\t\tlet result;\n\t\tconst where = transformWhereClause({\n\t\t\tmodel: modelName,\n\t\t\twhere: [{\n\t\t\t\tfield,\n\t\t\t\tvalue,\n\t\t\t\toperator: \"eq\",\n\t\t\t\tconnector: \"AND\"\n\t\t\t}],\n\t\t\taction: \"findOne\"\n\t\t});\n\t\ttry {\n\t\t\tif (joinConfig.relation === \"one-to-one\") result = await adapterInstance.findOne({\n\t\t\t\tmodel: modelName,\n\t\t\t\twhere\n\t\t\t});\n\t\t\telse {\n\t\t\t\tconst limit = joinConfig.limit ?? options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\t\tresult = await adapterInstance.findMany({\n\t\t\t\t\tmodel: modelName,\n\t\t\t\t\twhere,\n\t\t\t\t\tlimit\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger$1.error(`Failed to query fallback join for model ${modelName}:`, {\n\t\t\t\twhere,\n\t\t\t\tlimit: joinConfig.limit\n\t\t\t});\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t\treturn result;\n\t};\n\tconst adapterInstance = customAdapter({\n\t\toptions,\n\t\tschema,\n\t\tdebugLog,\n\t\tgetFieldName,\n\t\tgetModelName,\n\t\tgetDefaultModelName,\n\t\tgetDefaultFieldName,\n\t\tgetFieldAttributes,\n\t\ttransformInput,\n\t\ttransformOutput,\n\t\ttransformWhereClause\n\t});\n\tlet lazyLoadTransaction = null;\n\tconst adapter = {\n\t\ttransaction: async (cb) => {\n\t\t\tif (!lazyLoadTransaction) if (!config.transaction) lazyLoadTransaction = createAsIsTransaction(adapter);\n\t\t\telse {\n\t\t\t\tlogger$1.debug(`[${config.adapterName}] - Using provided transaction implementation.`);\n\t\t\t\tlazyLoadTransaction = config.transaction;\n\t\t\t}\n\t\t\treturn lazyLoadTransaction(cb);\n\t\t},\n\t\tcreate: async ({ data: unsafeData, model: unsafeModel, select, forceAllowId = false }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tif (\"id\" in unsafeData && typeof unsafeData.id !== \"undefined\" && !forceAllowId) {\n\t\t\t\tlogger$1.warn(`[${config.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \\`forceAllowId\\` parameter. The id will be ignored.`);\n\t\t\t\tconst stack = (/* @__PURE__ */ new Error()).stack?.split(\"\\n\").filter((_, i) => i !== 1).join(\"\\n\").replace(\"Error:\", \"Create method with `id` being called at:\");\n\t\t\t\tconsole.log(stack);\n\t\t\t\tunsafeData.id = void 0;\n\t\t\t}\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"create\", forceAllowId);\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst res = await adapterInstance.create({\n\t\t\t\tdata,\n\t\t\t\tmodel\n\t\t\t});\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tres\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, select, void 0);\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tupdate: async ({ model: unsafeModel, where: unsafeWhere, update: unsafeData }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"update\"\n\t\t\t});\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"update\");\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst res = await adapterInstance.update({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tupdate: data\n\t\t\t});\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, void 0, void 0);\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tupdateMany: async ({ model: unsafeModel, where: unsafeWhere, update: unsafeData }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"updateMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"update\");\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst updatedCount = await adapterInstance.updateMany({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tupdate: data\n\t\t\t});\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: updatedCount\n\t\t\t});\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: updatedCount\n\t\t\t});\n\t\t\treturn updatedCount;\n\t\t},\n\t\tfindOne: async ({ model: unsafeModel, where: unsafeWhere, select, join: unsafeJoin }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"findOne\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tlet join;\n\t\t\tlet passJoinToAdapter = true;\n\t\t\tif (!config.disableTransformJoin) {\n\t\t\t\tconst result = transformJoinClause(unsafeModel, unsafeJoin, select);\n\t\t\t\tif (result) {\n\t\t\t\t\tjoin = result.join;\n\t\t\t\t\tselect = result.select;\n\t\t\t\t}\n\t\t\t\tif (!options.experimental?.joins && join && Object.keys(join).length > 0) passJoinToAdapter = false;\n\t\t\t} else join = unsafeJoin;\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`, `${formatMethod(\"findOne\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tselect,\n\t\t\t\tjoin\n\t\t\t});\n\t\t\tconst res = await adapterInstance.findOne({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tselect,\n\t\t\t\tjoin: passJoinToAdapter ? join : void 0\n\t\t\t});\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`, `${formatMethod(\"findOne\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, select, join);\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`, `${formatMethod(\"findOne\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tfindMany: async ({ model: unsafeModel, where: unsafeWhere, limit: unsafeLimit, sortBy, offset, join: unsafeJoin }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst limit = unsafeLimit ?? options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"findMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tlet join;\n\t\t\tlet passJoinToAdapter = true;\n\t\t\tif (!config.disableTransformJoin) {\n\t\t\t\tconst result = transformJoinClause(unsafeModel, unsafeJoin, void 0);\n\t\t\t\tif (result) join = result.join;\n\t\t\t\tif (!options.experimental?.joins && join && Object.keys(join).length > 0) passJoinToAdapter = false;\n\t\t\t} else join = unsafeJoin;\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`, `${formatMethod(\"findMany\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\tsortBy,\n\t\t\t\toffset,\n\t\t\t\tjoin\n\t\t\t});\n\t\t\tconst res = await adapterInstance.findMany({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\tsortBy,\n\t\t\t\toffset,\n\t\t\t\tjoin: passJoinToAdapter ? join : void 0\n\t\t\t});\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`, `${formatMethod(\"findMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await Promise.all(res.map(async (r) => {\n\t\t\t\treturn await transformOutput(r, unsafeModel, void 0, join);\n\t\t\t}));\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`, `${formatMethod(\"findMany\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tdelete: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"delete\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"delete\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"delete\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tawait adapterInstance.delete({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"delete\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"delete\")} ${formatAction(\"DB Result\")}:`, { model });\n\t\t},\n\t\tdeleteMany: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"deleteMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"deleteMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"deleteMany\")} ${formatAction(\"DeleteMany\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tconst res = await adapterInstance.deleteMany({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"deleteMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"deleteMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tcount: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tlet thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"count\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"count\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"count\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tconst res = await adapterInstance.count({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"count\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"count\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tcreateSchema: adapterInstance.createSchema ? async (_, file) => {\n\t\t\tconst tables = getAuthTables(options);\n\t\t\tif (options.secondaryStorage && !options.session?.storeSessionInDatabase) delete tables.session;\n\t\t\tif (options.rateLimit && options.rateLimit.storage === \"database\" && (typeof options.rateLimit.enabled === \"undefined\" || options.rateLimit.enabled === true)) tables.ratelimit = {\n\t\t\t\tmodelName: options.rateLimit.modelName ?? \"ratelimit\",\n\t\t\t\tfields: {\n\t\t\t\t\tkey: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tunique: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.key ?? \"key\"\n\t\t\t\t\t},\n\t\t\t\t\tcount: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.count ?? \"count\"\n\t\t\t\t\t},\n\t\t\t\t\tlastRequest: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tbigint: true,\n\t\t\t\t\t\tdefaultValue: () => Date.now(),\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.lastRequest ?? \"lastRequest\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn adapterInstance.createSchema({\n\t\t\t\tfile,\n\t\t\t\ttables\n\t\t\t});\n\t\t} : void 0,\n\t\toptions: {\n\t\t\tadapterConfig: config,\n\t\t\t...adapterInstance.options ?? {}\n\t\t},\n\t\tid: config.adapterId,\n\t\t...config.debugLogs?.isRunningAdapterTests ? { adapterTestDebugLogs: {\n\t\t\tresetDebugLogs() {\n\t\t\t\tdebugLogs = debugLogs.filter((log) => log.instance !== uniqueAdapterFactoryInstanceId);\n\t\t\t},\n\t\t\tprintDebugLogs() {\n\t\t\t\tconst separator = `â”€`.repeat(80);\n\t\t\t\tconst logs = debugLogs.filter((log$1) => log$1.instance === uniqueAdapterFactoryInstanceId);\n\t\t\t\tif (logs.length === 0) return;\n\t\t\t\tlet log = logs.reverse().map((log$1) => {\n\t\t\t\t\tlog$1.args[0] = `\\n${log$1.args[0]}`;\n\t\t\t\t\treturn [...log$1.args, \"\\n\"];\n\t\t\t\t}).reduce((prev, curr) => {\n\t\t\t\t\treturn [...curr, ...prev];\n\t\t\t\t}, [`\\n${separator}`]);\n\t\t\t\tconsole.log(...log);\n\t\t\t}\n\t\t} } : {}\n\t};\n\treturn adapter;\n};\nfunction formatTransactionId(transactionId$1) {\n\tif (getColorDepth() < 8) return `#${transactionId$1}`;\n\treturn `${TTY_COLORS.fg.magenta}#${transactionId$1}${TTY_COLORS.reset}`;\n}\nfunction formatStep(step, total) {\n\treturn `${TTY_COLORS.bg.black}${TTY_COLORS.fg.yellow}[${step}/${total}]${TTY_COLORS.reset}`;\n}\nfunction formatMethod(method) {\n\treturn `${TTY_COLORS.bright}${method}${TTY_COLORS.reset}`;\n}\nfunction formatAction(action) {\n\treturn `${TTY_COLORS.dim}(${action})${TTY_COLORS.reset}`;\n}\n/**\n* @deprecated Use `createAdapterFactory` instead. This export will be removed in a future version.\n* @alias\n*/\nconst createAdapter = createAdapterFactory;\n\n//#endregion\nexport { createAdapter, createAdapterFactory, deepmerge, initGetDefaultFieldName, initGetDefaultModelName, initGetFieldAttributes, initGetFieldName, initGetIdField, initGetModelName, withApplyDefault };"],
  "mappings": "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",
  "names": []
}
